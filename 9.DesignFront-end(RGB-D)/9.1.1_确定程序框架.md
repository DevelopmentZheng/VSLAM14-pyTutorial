&emsp;
# 9.11 确定程序框架

根据前两章的内容，我们知道视觉里程计分单目、双目、RGB-D 三大类。单目视觉相对复杂，而 RGB-D 最为简单，没有初始化，也没有尺度问题。本着由简入繁的精神，我们先从 RGB-D 做起。为了方便读者做实验，我们将使用数据集而非实际的 RGB-D 相机（因为不能保证读者人手都有一台 RGB-D 相机）。

首先，我们来了解一下 Linux 程序的组织方式。在编写一个小规模的库时，我们通常会建立一些文件夹，把源代码、头文件、文档、测试数据、配置文件、日志等等分类存放，这样会显得很有条理。如果一个库内容很多，我们还会把代码分解各个独立的小模块，以便测试。读者可以参照 OpenCV 或 g2o 的组织方式，看看一个大中型库是如何组织的。例如，OpenCV 有 core、imgproc、features2d 等模块，每个模块分别负责不同的任务。g2o 则有 core、solvers、types 等若干种。不过在小型程序里，我们也可以把所有的东西揉在一起，称为 SLAM 库。

>文件结构
- 现在我们要写的 SLAM 库是一个小型库，目标是帮读者将本书用到的各种算法融会贯通，书写自己的 SLAM 程序。挑选一个工程目录，在它下面建立这些文件夹来组织代码文件：

    - `bin` 用来存放可执行的二进制；
    - `include/myslam` 存放 slam 模块的头文件，主要是.h。这种做法的理由是，当你把包含目录设到 include 时，在引用自己的头文件时，需要写 include ”myslam/xxx.h”，这样不容易和别的库混淆。
    - `src` 存放源代码文件，主要是 cpp；
    - `test` 存放测试用的文件，也是 cpp；
    - `lib` 存放编译好的库文件；
    - `config` 存放配置文件；
    - `cmake_modules` 第三方库的 cmake 文件，在使用 g2o 之类的库中会用到它。

    以上就是我们的目录结构，如图 9-2 所示。相比于我们之前每一章内都零零散散地放着的 main.cpp，这种做法显得更有条理。是不是更加整齐一些呢？接下来，我们会在这些目录里不断地添加新文件，渐渐形成一个完整的程序。


<div align="center">
    <image src="./imgs/9.1.2-1.png" width = 800>
</div>
&emsp;