&emsp;
# 3.5 相似、仿射、射影变换

3D 空间中的变换，除了欧氏变换之外，还存在其余几种，其中欧氏变换是最简单的。它们一部分和测量几何有关，因为在之后的讲解中可能会提到，所以我们先罗列出来。欧氏变换保持了向量的长度和夹角，相当于我们把一个刚体原封不动地进行了移动或旋转，不改变它自身的样子。而其他几种变换则会改变它的外形。它们都拥有类似的矩阵表示。

&emsp;
## 1 相似变换

相似变换比欧氏变换多了一个自由度，它允许物体进行均匀的缩放，其矩阵表示为：

$$\pmb{T}_S = \begin{bmatrix} s\pmb{R} & \pmb{t} \\
\pmb{0}^T & 1 \end{bmatrix}$$

注意到旋转部分多了一个缩放因子 $s$，表示我们在对向量旋转之后，可以在 $x， y， z$ 三个坐标上进行均匀的缩放。由于含有缩放，相似变换不再保持图形的面积不变。你可以想象一个边长为 $1$ 的立方体通过相似变换后，变成边长为 $10$ 的样子（但仍然是立方体）。

&emsp;
## 2 仿射变换
仿射变换的矩阵形式如下：

$$\pmb{T}_A = \begin{bmatrix}\pmb{A} & \pmb{t} \\
\pmb{0}^T & 1 \end{bmatrix}$$

它左上角为可逆矩阵 $\pmb{A}$，右上为平移 $\pmb{t}$，左下缩放 $\pmb{a}^T$。由于采用齐坐标，当 $v \neq 0$ 时，我们可以对整个矩阵除以 $v$ 得到一个右下角为 $1$ 的矩阵；否则，则得到右下角为 $0$ 的矩阵。

与欧氏变换不同的是，仿射变换只要求 $\pmb{A}$ 是一个可逆矩阵，而不必是正交矩阵。仿射变换也叫正交投影。经过仿射变换之后，立方体就不再是方的了，但是各个面仍然是平行四边形。

&emsp;
## 3 射影变换
射影变换是最一般的变换，它的矩阵形式为:

$$\pmb{T}_P = \begin{bmatrix}\pmb{A} & \pmb{t} \\
\pmb{a}^T & v \end{bmatrix}$$

因此，2D 的射影变换一共有 $8$ 个自由度，3D 则共有 $15$ 个自由度。射影变换是现在讲过的变换中，形式最为一般的。从真实世界到相机照片的变换可以看成一个射影变换。

读者可以想象一个原本方形的地板砖，在照片当中是什么样子：首先，它不再是方形的。由于近大远小的关系，它甚至不是平行四边形，而是一个不规则的四边形。


&emsp;
## 4 总结
下表总结了目前讲到的几种变换的性质。注意在“不变性质”中，从上到下是有包含关系的。例如，欧氏变换除了保体积之外，也具有保平行、相交等性质。
<div align="center">
    <image src="./imgs/3.5-1.png" width = 600>
</div>
&emsp;

我们之后会说到，从真实世界到相机照片的变换是一个射影变换。如果相机的焦距为无穷远，那么这个变换则为仿射变换。不过，在详细讲述相机模型之前，我们只要对它们有个大致的印象即可。



