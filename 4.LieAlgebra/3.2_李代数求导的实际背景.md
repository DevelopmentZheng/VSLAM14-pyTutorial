&emsp;
# 3.2 李代数求导的实际背景

>李代数求导的应用背景

- 在 SLAM 中，我们要估计一个相机的 `位置` 和 `姿态`，位姿可以由下面两种方式描述：
    - $SO(3)$ 上的 `旋转矩阵` 

    - $SE(3)$ 上的 `变换矩阵`
    
    不妨设某个时刻小萝卜的位姿为 $T$。它观察到了一个世界坐标位于 $p$ 的点，产生了一个观测数据 $z$。那么，由坐标变换关系知：

    $$\pmb{z} = \pmb{Tp} + \pmb{w}$$

    然而，由于观测噪声 $\pmb{w}$ 的存在，$\pmb{z}$ 往往不可能精确地满足 $\pmb{z} = \pmb{Tp}$  的关系。所以，我们通常会计算理想的观测与实际数据的误差：

    $$\pmb{e} = \pmb{z} - \pmb{Tp}$$

    假设一共有 $N$ 个这样的路标点和观测，于是就有 $N$ 个上式。那么，对小萝卜的位姿估计，相当于是 `寻找一个最优的T`，使得整体误差最小化（最小二乘法）：

    $$\min\limits_{\pmb{T}}J(\pmb{T}) = \sum\limits^N_{i=1} ||\pmb{z}_i - \pmb{Tp}_i||^2_2$$

    求解此问题，需要计算目标函数 $J$ 关于变换矩阵 $\pmb{T}$ 的导数。
    
    我们把具体的算法留到后面再讲。这里重点要说的是，我们经常会构建与位姿有关的函数，然后讨论该函数关于位姿的导数，以调整当前的估计值。

&emsp;
>求导思路
- $SO(3)$， $SE(3)$ 上并没有良好定义的加法，它们只是群。

    如果我们把 $\pmb{T}$ 当成一个普通矩阵来处理优化，那就必须对它加以约束。
    
    而从李代数角度来说，由于李代数由`向量`组成，具有良好的`加法运算`。因此，使用李代数解决求导问题的思路分为两种：

    - 李代数的求导模型：用李代数表示姿态，然后对根据李代数加法来对李代数求导

    - 扰动模型：对李群左乘或右乘微小扰动，然后对该扰动求导，称为左扰动和右扰动模型

    下面我们来讨论这两种思路的异同。


